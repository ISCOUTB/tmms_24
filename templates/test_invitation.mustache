<div class="tmms-invitation-block">
    <div class="tmms-header text-center mb-3">
        {{{icon}}}
        <h6 class="mt-2 mb-1 font-weight-bold">{{title}}</h6>
        <small class="text-muted">{{subtitle}}</small>
    </div>

    {{#in_progress}}
        {{#description_short}}
            <div class="tmms-description mb-3" style="background: white; padding: 10px 12px; border-radius: 5px; border-left: 3px solid #ff6600;">
                <small class="text-muted" style="line-height: 1.5;">
                    <i class="fa fa-info-circle" style="color: #ff6600;"></i> {{description_short}}
                </small>
            </div>
        {{/description_short}}

        {{#all_answered}}
        <div class="alert alert-warning mb-3" style="padding: 12px 15px; margin-bottom: 15px; border-left: 4px solid #ffc107; background-color: #fff3cd; border-radius: 4px;">
            <div style="display: flex; align-items: start;">
                 <i class="fa fa-exclamation-triangle" style="color: #856404; margin-right: 10px; margin-top: 2px; font-size: 1.2em;"></i>
                 <div>
                     <strong style="color: #856404;">{{all_answered_title}}</strong><br>
                     <small style="color: #856404;">{{all_answered_message}}</small>
                 </div>
            </div>
        </div>
        {{/all_answered}}

        <div class="tmms-progress mb-3">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <span class="small font-weight-bold">{{progress_title}}</span>
                <span class="small text-muted">{{answered_count}}/24</span>
            </div>
            <div class="progress mb-2" style="height: 8px; background-color: #ffebe0;">
                <div class="progress-bar" style="width: {{progress_percentage}}%; background: linear-gradient(90deg, #ffaa66 0%, #ff6600 100%);"></div>
            </div>
            <small class="text-muted">{{progress_percentage_formatted}}% {{completed_status}}</small>
        </div>
    {{/in_progress}}

    {{^in_progress}}
        <div class="tmms-description mb-3">
            <div class="card border-info">
                <div class="card-body p-3">
                    <h6 class="card-title font-weight-bold">
                        <i class="fa fa-info-circle" style="color: #ff6600 !important;"></i> {{what_is_title}}
                    </h6>
                    <p class="card-text small mb-2">{{description_short}}</p>
                    <ul class="list-unstyled small mb-0">
                        <li><i class="fa fa-check text-success"></i> {{feature_24}}</li>
                        <li><i class="fa fa-check text-success"></i> {{feature_3}}</li>
                        <li><i class="fa fa-check text-success"></i> {{feature_results}}</li>
                    </ul>
                </div>
            </div>
        </div>
    {{/in_progress}}

    <div class="tmms-actions text-center">
        <a href="{{link_url}}" class="btn {{button_class}} btn-block" style="{{button_style}}">
            <i class="fa {{button_icon}}"></i> {{button_text}}
        </a>
    </div>
</div>
